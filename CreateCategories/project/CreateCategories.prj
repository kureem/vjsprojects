{"parameters":{"name":"CreateCategories.prj","tag":"div","text":""},"children":[{"parameters":{"name":"resource"},"children":[{"parameters":{"name":"bootstrapJS","src":"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:javascript"},{"parameters":{"name":"popperJS","src":"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:javascript"},{"parameters":{"name":"bootstrapCSS","source":"https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:stylesheet"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:resources"},{"parameters":{"name":"Modal","class":"modal fade slds-hidden show create-categories","title":"Manage Categories and Sub Categories","size":"modal-lg","open":"true"},"children":[{"parameters":{"name":"body","class":"slds-modal__content modal-body"},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"Container","class":"toolbar","tag":"div","text":""},"children":[{"parameters":{"name":"btnAddCategory","class":"btn       btn-success btn-sm","label":"+","context":"success","type":"button","dsize":"btn-sm"},"children":[],"events":[],"macros":[],"styles":{"visibility":"hidden"},"dependencies":[],"impl":"bootstrap:button"},{"parameters":{"name":"btnAddCategory","class":"btn       btn-success btn-sm","label":"+","context":"success","type":"button","dsize":"btn-sm"},"children":[],"events":[{"type":"click","source":"var cat = prompt(\"Enter the name of a category\");\r\n//alert(cat);\r\nif(cat){\r\n    var ocat = {name:cat, subcategories:[]};\r\n    \r\n    $scope.colCategories.insertDocument(ocat);\r\n}","name":"btnAddCategory"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[{"type":"click","source":"load($scope);","name":"Container"}],"macros":[],"styles":{"display":"flex"},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"categories","class":"list-group mt-3","exposeAs":"categories","tag":"ul","decorate-class":"list-group-item  list-group-item-action","decorate-style":"cursor:pointer"},"children":[{"parameters":{"name":"category","tag":"div","text":""},"children":[{"parameters":{"name":"TextItem","tag":"span","text":"Text Item"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"btnDelete","class":"btn    btn-danger btn-sm","label":"","context":"danger","type":"button","dsize":"btn-sm"},"children":[{"parameters":{"name":"icon","class":"oi oi-trash","tag":"span","text":"","title":"Delete this category"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"float":"right"},"data":{"title":"Delete this category"},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{"width":"100%"},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:ul"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col "},"children":[{"parameters":{"name":"Container","class":"toolbar","tag":"div","text":""},"children":[{"parameters":{"name":"btnAddCategory","class":"btn         btn-success btn-sm","label":"+","context":"success","type":"button","dsize":"btn-sm"},"children":[],"events":[],"macros":[],"styles":{"visibility":"hidden"},"dependencies":[],"impl":"bootstrap:button"},{"parameters":{"name":"btnAddSubCategory","class":"btn         btn-success btn-sm","label":"+","context":"success","type":"button","dsize":"btn-sm"},"children":[],"events":[{"type":"click","source":"var subcat = prompt('Please enter a sub-category');\r\nif(subcat){\r\n    var cat = $scope.subcategories.getUserData();\r\n    var osubcat = {name: subcat};\r\n    cat.subcategories.push(osubcat);\r\n    $scope.colCategories.insert(cat);\r\n}","name":"btnAddSubCategory"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{"display":"flex"},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"sub-categories","class":"list-group mt-3","exposeAs":"subcategories","tag":"ul","decorate-class":"list-group-item d-flex justify-content-between align-items-center","decorate-style":"cursor:pointer"},"children":[{"parameters":{"name":"subcategory","tag":"div","text":""},"children":[{"parameters":{"name":"TextItem","tag":"span","text":"Text Item"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"btnDelete","class":"btn      btn-danger btn-sm","label":"","context":"danger","type":"button","dsize":"btn-sm"},"children":[{"parameters":{"name":"icon","class":"oi oi-trash","tag":"span","text":"","title":"Delete this category"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"float":"right"},"data":{"title":"Delete this category"},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{"width":"100%"},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:ul"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"lgt:modal-body"},{"parameters":{"name":"footer","class":"slds-modal__footer modal-footer"},"children":[{"parameters":{"name":"btnCancel","class":"btn","label":"Cancel","context":"none","type":"button"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"},{"parameters":{"name":"btnSave","class":"btn","label":"Save","context":"none","type":"button"},"children":[],"events":[{"type":"click","source":"alert(JSON.stringify(categories));\r\n$scope.colCategories.insertDocument(categories);","name":"btnSave"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"lgt:modal-footer"}],"events":[],"macros":[],"styles":{"display":"block"},"dependencies":[],"impl":"bootstrap:modal"},{"parameters":{"name":"Icons","source":"/open-iconic/font/css/open-iconic-bootstrap.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:open-iconic"},{"parameters":{"name":"localhost"},"children":[{"parameters":{"name":"beelut"},"children":[{"parameters":{"name":"categories","exposeAs":"colCategories"},"children":[],"events":[{"type":"insertDocument","source":"$scope.colCategories.query({});\r\n$scope.subcategories.setUserData(evt.data);\r\n//alert(JSON.stringify(evt.data));\r\n\r\n//categories.push(ocat);\r\n//buildCategoryItem($scope,ocat);","name":"categories"},{"type":"queryDocument","source":"categories = evt.data;\r\n$scope.categories.clearChildren();\r\n$scope.categories.setRendered(false);\r\nfor(var i in categories){\r\n        \r\n   var ui = buildCategoryItem($scope,categories[i]);\r\n    if($scope.subcategories.getUserData() && $scope.subcategories.getUserData().name === categories[i].name){\r\n        selectCategory(categories[i],$scope,ui);\r\n    }\r\n}","name":"categories"}],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:collection"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:database"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:server"}],"events":[],"macros":[],"styles":{},"data":{},"dependencies":[],"impl":"lgt:app"}