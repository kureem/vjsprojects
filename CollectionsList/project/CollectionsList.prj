{"parameters":{"name":"CollectionsList.prj","tag":"div","text":"","custom-params":"[{\"name\":\"load\",\"value\":\"true\",\"type\":\"boolean\"},{\"name\":null,\"value\":null,\"type\":null},{\"name\":null,\"value\":null,\"type\":null},{\"name\":null,\"value\":null,\"type\":null},{\"name\":null,\"value\":null,\"type\":null},{\"name\":null,\"value\":null,\"type\":null},{\"name\":null,\"value\":null,\"type\":null},{\"name\":null,\"value\":null,\"type\":null}]"},"children":[{"parameters":{"name":"container","class":"-fluid -fluid -fluid container-fluid","exposeAs":"list","fluid":"true"},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"title","class":"ml-4 my-4","tag":"h2","text":"Collections"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"btnAdd","class":"btn  mt-4 mr-4 btn-primary","label":"Add Collection","context":"primary","type":"button"},"children":[],"events":[{"type":"click","source":"$scope.list.setStyle('display', 'none');\r\n$scope.createcollection.setStyle('display',null);\r\n$scope.createcollection.set('new', 'true');","name":"btnAdd"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"card","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"tabs","class":"nav","tag":"ul","decorate-class":"nav-item"},"children":[{"parameters":{"name":"all","class":"nav-link active","text":"All","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.collections.query({});","name":"all"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"},{"parameters":{"name":"published","class":"nav-link","text":"Online","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.collections.query({onlineStatus:'published'});","name":"published"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"},{"parameters":{"name":"offline","class":"nav-link active","text":"Offline","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.collections.query({onlineStatus:'unpublished'});","name":"offline"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"},{"parameters":{"name":"archived","class":"nav-link active","text":"Archived","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.collections.query({onlineStatus:'archived'});","name":"archived"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:ul"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Input Group","class":"input-group mx-4 my-4","prepend":"true","append":"true"},"children":[{"parameters":{"name":"prepend","class":"input-group-prepend"},"children":[{"parameters":{"name":"TextItem","class":"input-group-text","tag":"p","text":"Filter"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group-prepend"},{"parameters":{"name":"controls","class":"input-group-controls"},"children":[{"parameters":{"name":"String Input","class":"form-control","type":"text"},"children":[],"events":[{"type":"keydown","source":"$scope.collections.query({});","name":"String Input"}],"macros":[],"styles":{"border-top-left-radius":"0","border-bottom-left-radius":"0"},"dependencies":[],"impl":"bootstrap:input-string"}],"events":[],"macros":[],"styles":{"flex":"auto"},"dependencies":[],"impl":"bootstrap:input-group-controls"},{"parameters":{"name":"append","class":"input-group-append"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group-append"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_2","class":"row"},"children":[{"parameters":{"name":"Col","class":"col table-responsive"},"children":[{"parameters":{"name":"Table","class":"table col-table","exposeAs":"table","IdField":"_id","fireRowSelectionOn":"click","rowSelectionMode":"radio","selectedRowDecoratorClass":"table-active"},"children":[{"parameters":{"name":"image","label":"Image","binding":"image","dataType":"text","renderAs":"image"},"children":[],"events":[],"macros":[],"styles":{"width":"96px"},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"title","label":"Title","binding":"title","dataType":"text","renderAs":"link"},"children":[],"events":[],"macros":[],"styles":{"width":"300px"},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"description","label":"Description","binding":"description","dataType":"text","renderAs":"default"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"onlineStatus","label":"Online Status","binding":"onlineStatus","dataType":"text","renderAs":"default"},"children":[],"events":[],"macros":[],"styles":{"width":"125px"},"dependencies":[],"impl":"bootstrap:table-column"}],"events":[{"type":"linkAction","source":"$scope.createcollection.set('data', JSON.stringify(evt.data));\r\n$scope.createcollection.setStyle('display', null);\r\n$scope.list.setStyle('display', 'none');","name":"Table"},{"type":"renderCell","source":"if(evt.colIndex === 3){\r\n    var value = evt.value;\r\n    //<span class=\"badge badge-pill badge-primary\">Primary</span>\r\n    evt.source.addClass('badge badge-pill');\r\n    if(value === 'archived'){\r\n        evt.source.addClass('badge-danger');\r\n        evt.source.setHtml('Archived');\r\n    }else if(value === 'published'){\r\n         evt.source.addClass('badge-primary');\r\n         evt.source.setHtml('Online');\r\n    }else{\r\n        evt.source.setHtml('Offline');\r\n         evt.source.addClass('badge-warning');\r\n    }\r\n}","name":"Table"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:table"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:container"},{"parameters":{"name":"resource"},"children":[{"parameters":{"name":"bootstrapJS","src":"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:javascript"},{"parameters":{"name":"popperJS","src":"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:javascript"},{"parameters":{"name":"bootstrapCSS","source":"https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:stylesheet"},{"parameters":{"name":"bootstrapPatch","source":"css/bootstrap.patch.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:stylesheet"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:resources"},{"parameters":{"name":"localhost"},"children":[{"parameters":{"name":"beelut"},"children":[{"parameters":{"name":"collections","exposeAs":"collections"},"children":[],"events":[{"type":"queryDocument","source":"$scope.table.setData(evt.data);","name":"collections"}],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:collection"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:database"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:server"},{"parameters":{"artifact":"com.archnet:CreateCollection:0.0.2","name":"createcollection","exposeAs":"createcollection"},"children":[],"events":[{"type":"applyparameter","source":"if(evt.name === 'data'){\r\n    var data = JSON.parse(evt.value);\r\n    $scope.textform.setData(data);\r\n    $scope.criteria.setData(data.criteria);\r\n    $scope.image.getInput().setValue(data.image);\r\n    $scope.andOr.setValue(data.andOr);\r\n    $scope.cardavailability.setStyle('display', null);\r\n    if(data.onlineStatus === 'published'){\r\n        $scope.btnUnpublish.setStyle('display', null);\r\n        $scope.btnPublish.setStyle('display', 'none');\r\n    }else{\r\n        $scope.btnUnpublish.setStyle('display', 'none');\r\n        $scope.btnPublish.setStyle('display', null);\r\n    }\r\n}else if(evt.name === 'new'){\r\n    $scope.textform.setData({title:\"\", description: \"\", _id:null});\r\n    $scope.criteria.setData([]);\r\n    $scope.image.getInput().setValue('');\r\n    $scope.andOr.setValue('and');\r\n    $scope.cardavailability.setStyle('display', 'none');\r\n    $scope.btnUnpublish.setStyle('display', 'none');\r\n        $scope.btnPublish.setStyle('display', null);\r\n}","name":"createcollection"},{"type":"saved","source":"$scope.list.setStyle('display', null);\r\n$scope.createcollection.setStyle('display', 'none');\r\n$scope.collections.query({});","name":"createcollection"},{"type":"cancel","source":"$scope.list.setStyle('display', null);\r\n$scope.createcollection.setStyle('display', 'none');\r\n$scope.collections.query({});","name":"createcollection"}],"macros":[],"styles":{"display":"none"},"dependencies":[],"impl":"html:cmp"}],"events":[{"type":"applyparameter","source":"if(evt.data === 'load'){\r\n    if(evt.value === 'true'){\r\n        $scope.collections.query({});\r\n    }\r\n}","name":"CollectionsList.prj"}],"macros":[],"styles":{},"data":{},"dependencies":[],"impl":"lgt:app"}