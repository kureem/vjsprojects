{"parameters":{"name":"CreateOrder.prj","tag":"div","text":""},"children":[{"parameters":{"name":"resource"},"children":[{"parameters":{"name":"bootstrapJS","src":"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:javascript"},{"parameters":{"name":"popperJS","src":"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:javascript"},{"parameters":{"name":"bootstrapCSS","source":"https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:stylesheet"},{"parameters":{"name":"bootstrapPatch","source":"css/bootstrap.patch.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:stylesheet"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:resources"},{"parameters":{"name":"Container","class":"-fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid -fluid container-fluid","fluid":"true"},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"title","tag":"h2","text":"Create Order"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col 2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8","WidthExtraSmall":"12","WidthSmall":"12","WidthMedium":"8","WidthLarge":"8","WidthExtraLarge":"8"},"children":[{"parameters":{"name":"card","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"title","class":"card-title","tag":"label","text":"Order details"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"Input Group","class":"input-group input-group-sm","prepend":"true","append":"true","size":"input-group-sm"},"children":[{"parameters":{"name":"prepend","class":"input-group-prepend"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group-prepend"},{"parameters":{"name":"controls","class":"input-group-controls"},"children":[{"parameters":{"name":"String Input","class":"form-control","type":"text"},"children":[],"events":[{"type":"keydown","source":"$scope.searchproductspopup.set('open','true');","name":"String Input"}],"macros":[],"styles":{"border-top-right-radius":"0","border-bottom-right-radius":"0"},"dependencies":[],"impl":"bootstrap:input-string"}],"events":[],"macros":[],"styles":{"flex":"auto"},"dependencies":[],"impl":"bootstrap:input-group-controls"},{"parameters":{"name":"append","class":"input-group-append"},"children":[{"parameters":{"name":"browse","class":"input-group-text","tag":"label","text":"Browse products"},"children":[],"events":[],"macros":[],"styles":{"cursor":"pointer"},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"cursor":"pointer"},"dependencies":[],"impl":"bootstrap:input-group-append"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_2","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"Ruler"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:hr"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_3","class":"row mt-3 ","noGutters":"false"},"children":[{"parameters":{"name":"Col","class":"col table-responsive"},"children":[{"parameters":{"name":"Table","class":"table table-bordered table-sm table-hover prod-table","exposeAs":"productLines","IdField":"_id","headerTheme":"thead-light","small":"true","bordered":"true","hoverable":"true","fireRowSelectionOn":"click","rowSelectionMode":"radio","selectedRowDecoratorClass":"table-active"},"children":[{"parameters":{"name":"Image","label":"Image","binding":"image1","dataType":"text","renderAs":"image"},"children":[],"events":[],"macros":[],"styles":{"width":"96px"},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"name","label":"Product Info","binding":"name","dataType":"text","renderAs":"default"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"price","label":"Price","binding":"price","dataType":"currency","renderAs":"default"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"quantity","label":"Quantity","binding":"quantity","dataType":"numeric","renderAs":"default"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"total","label":"Total","binding":"total","dataType":"currency","renderAs":"default"},"children":[],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:table-column"},{"parameters":{"name":"action","label":"","binding":"_id","dataType":"text","renderAs":"dropdown"},"children":[],"events":[],"macros":[],"styles":{"width":"50px"},"dependencies":[],"impl":"bootstrap:table-column"}],"events":[{"type":"renderCell","source":"if(evt.colIndex === 1 ){\r\n    evt.source.setHtml(evt.data.sku + '<br>' + evt.data.title );\r\n}else if(evt.colIndex === 0){\r\n    evt.source.setStyle('width', '48px');\r\n}else if(evt.colIndex === 3){ \r\n    var vinput = new framework.components.bootstrap.input.NumericInput(\"Number Input\");\r\n    vinput.setStyle('width','80px').setStyle('text-align','right');\r\n    evt.source.setHtml('');\r\n    if(evt.data.purchasedQuantity){\r\n        vinput.setValue(evt.data.purchasedQuantity);\r\n    }else{\r\n        evt.data.purchasedQuantity = 1;\r\n         vinput.setValue(evt.data.purchasedQuantity);\r\n    }\r\n    evt.source.addChild(vinput);\r\n    vinput.setUserData(evt.data);\r\n    vinput.on('change',function(ev){\r\n       \r\n        ev.source.getUserData().purchasedQuantity = ev.source.getValue();\r\n        adjustQuantities($scope);\r\n    });\r\n\r\n    //evt.source.setHtml(evt.data.quantity + ' In stock');\r\n}else if(evt.colIndex === 2){\r\n    evt.source.setHtml(evt.data.price + ' MUR');\r\n}else if(evt.colIndex === 4){\r\n    if(!evt.data.total){\r\n        evt.data.total = evt.data.price*evt.data.purchasedQuantity;\r\n    }\r\n    evt.source.setHtml(evt.data.total + ' MUR');\r\n}","name":"Table"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:table"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_4","class":"row"},"children":[{"parameters":{"name":"Col","class":"col  2 2   2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    col-12 col-sm-12 col-md-7 col-lg-7 col-xl-7","WidthExtraSmall":"12","WidthSmall":"12","WidthMedium":"7","WidthLarge":"7","WidthExtraLarge":"7"},"children":[{"parameters":{"name":"notes","class":"form-group","type":"string","label":"Notes","required":"false","hasError":"false"},"children":[{"parameters":{"name":"notes","class":"form-control","binding":"notes","type":"string"},"children":[],"events":[],"macros":[],"styles":{"padding":"0.1rem"},"dependencies":[],"impl":"bootstrap:input-string"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:form-group"},{"parameters":{"name":"discount","class":"debug","exposeAs":"discount_input","binding":"discount","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:numeric-input"},{"parameters":{"name":"shipping","class":"debug","exposeAs":"shipping_input","binding":"shipping","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:numeric-input"},{"parameters":{"name":"subtotal","class":"debug","exposeAs":"subtotal_input","binding":"subtotal","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:numeric-input"},{"parameters":{"name":"tax","class":"debug","exposeAs":"tax_input","binding":"tax","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:numeric-input"},{"parameters":{"name":"total","class":"debug","exposeAs":"total_input","binding":"total","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:numeric-input"},{"parameters":{"name":"discountunit","class":"debug","exposeAs":"discountunit_input","binding":"discountunit","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:numeric-input"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col 2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    col-12 col-sm-12 col-md-5 col-lg-5 col-xl-5","WidthExtraSmall":"12","WidthSmall":"12","WidthMedium":"5","WidthLarge":"5","WidthExtraLarge":"5"},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"Row","class":"row spread"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"addDiscount","text":"Add discount","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.discountPopover.setStyle('display','block');\r\n\r\n$scope.discountInputReason.setValue($scope.discountReason.getHtml());\r\n\r\n$scope.discountInputValue.setValue(  $scope.discount_input.getValue());","name":"addDiscount"}],"macros":[],"styles":{"top":"12px"},"dependencies":[],"impl":"html:a"},{"parameters":{"name":"discountReason","exposeAs":"discountReason","tag":"label","text":""},"children":[],"events":[],"macros":[],"styles":{"font-size":"12px","display":"block"},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"discountPopover","class":"popover","exposeAs":"discountPopover","tag":"div","text":""},"children":[{"parameters":{"name":"body","class":"popover-body","tag":"div","text":""},"children":[{"parameters":{"name":"discountInput","class":"input-group input-group-sm","prepend":"true","append":"true","size":"input-group-sm"},"children":[{"parameters":{"name":"prepend","class":"input-group-prepend"},"children":[{"parameters":{"name":"fixed","class":"input-group-text","tag":"span","text":"Rs"},"children":[],"events":[{"type":"click","source":"$scope.discountunit_input.setValue(0);\r\n$scope.discountValue.setAttribute('placeholder', 'Rs');","name":"fixed"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"percent","class":"input-group-text","tag":"span","text":"%"},"children":[],"events":[{"type":"click","source":"$scope.discountunit_input.setValue(1);\r\n$scope.discountValue.setAttribute('placeholder', '%');","name":"percent"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group-prepend"},{"parameters":{"name":"controls","class":"input-group-controls"},"children":[{"parameters":{"name":"discountValue","class":"form-control","exposeAs":"discountInputValue","placeholder":"Rs","type":"number"},"children":[],"events":[],"macros":[],"styles":{"border-top-left-radius":"0","border-bottom-left-radius":"0"},"dependencies":[],"impl":"bootstrap:input-numeric"}],"events":[],"macros":[],"styles":{"flex":"auto"},"dependencies":[],"impl":"bootstrap:input-group-controls"},{"parameters":{"name":"append","class":"input-group-append"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-group-append"}],"events":[],"macros":[],"styles":{"margin-bottom":"12px"},"dependencies":[],"impl":"bootstrap:input-group"},{"parameters":{"name":"TextItem","tag":"span","text":"Reason"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"discountInputReason","class":"form-control","exposeAs":"discountInputReason","placeholder":"Damaged Loyalty","type":"text"},"children":[],"events":[],"macros":[],"styles":{"padding":"0.1rem 0.3rem"},"dependencies":[],"impl":"bootstrap:input-string"},{"parameters":{"name":"Ruler"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:hr"},{"parameters":{"name":"btnClose","class":"btn btn-sm","label":"Close","context":"none","type":"button","dsize":"btn-sm"},"children":[],"events":[{"type":"click","source":"$scope.discountPopover.setStyle('display','none');","name":"btnClose"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"},{"parameters":{"name":"btnApply","class":"btn                      btn-success btn-sm","label":"Apply","context":"success","type":"button","dsize":"btn-sm"},"children":[],"events":[{"type":"click","source":"$scope.discountPopover.setStyle('display','none');\r\n$scope.discountReason.setHtml($scope.discountInputReason.getValue());\r\n$scope.discount_input.setValue($scope.discountInputValue.getValue(  ));\r\n\r\nadjustQuantities($scope);","name":"btnApply"}],"macros":[],"styles":{"float":"right","display":"block"},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{"width":"450px","display":"none"},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"discount","exposeAs":"discount","tag":"p","text":"0 MUR"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row spread"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"subtotal","tag":"label","text":"Subtotal"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"subtotal","exposeAs":"subtotal","tag":"p","text":"0 MUR"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_2","class":"row  spread"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"addShipping","text":"Shipping Addr","href":"javascript:void(0);"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"},{"parameters":{"name":"shippingAddress","tag":"label","text":"R. Tagore Avenue Mesnil, Phoenix"},"children":[],"events":[],"macros":[],"styles":{"font-size":"12px"},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"shipping","exposeAs":"shipping","tag":"p","text":"0 MUR"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_3","class":"row  spread"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"addTax","text":"Taxes","href":"javascript:void(0);"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"},{"parameters":{"name":"taxInfo","exposeAs":"taxInfo","tag":"label","text":"Customer exempt from tax"},"children":[],"events":[],"macros":[],"styles":{"font-size":"12px"},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"tax","exposeAs":"tax","tag":"p","text":"0 MUR"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_4","class":"row spread"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"total","exposeAs":"taxInfo","tag":"label","text":"Total"},"children":[],"events":[],"macros":[],"styles":{"font-weight":"bold"},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"total","exposeAs":"total","tag":"p","text":"0 MUR"},"children":[],"events":[],"macros":[],"styles":{"font-weight":"bold"},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"card_1","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col spread"},"children":[{"parameters":{"name":"title","class":"text-muted","tag":"p","text":"Email invoice"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"btnEmail","class":"btn ","label":"Email Invoice","context":"none","type":"button","ddisabled":"true"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"card_2","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col 2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    2 2    col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3","WidthExtraSmall":"12","WidthSmall":"12","WidthMedium":"3","WidthLarge":"3","WidthExtraLarge":"3"},"children":[{"parameters":{"name":"title","class":"text-muted","tag":"p","text":"Accept Payment"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"btnMarkAsPaid","class":"btn btn-block","label":"Mark as paid","context":"none","type":"button","block":"true","ddisabled":"false"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_2","class":"col"},"children":[{"parameters":{"name":"btnMarkAsPending","class":"btn btn-block","label":"Mark as pending","context":"none","type":"button","block":"true","ddisabled":"false"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_3","class":"col"},"children":[{"parameters":{"name":"btnPayCreditCard","class":"btn btn-block","label":"Pay with credit card","context":"none","type":"button","block":"true","ddisabled":"true"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:button"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"card","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"subtitle","class":"card-subtitle","tag":"span","text":"Find or create a customer"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"lookup","class":"input-group lookup input-group-sm","exposeAs":"customerLookup","prepend":"true","append":"true"},"children":[],"events":[{"type":"addNew","source":"$scope.createcustomer.set('open','true');","name":"lookup"},{"type":"showMenu","source":"$scope.customers.query({});","name":"lookup"},{"type":"renderResultItem","source":"evt.source.setHtml(evt.data.firstName);","name":"lookup"},{"type":"select","source":"alert(JSON.stringify(evt.data));","name":"lookup"},{"type":"selectItem","source":"//alert(JSON.stringify(evt.selectedItem));\r\nconsole.log(evt.selectedItem);\r\n$scope.companyName.setHtml(evt.selectedItem.company);\r\n$scope.firstName.setHtml(evt.selectedItem.contactFirstName + ' ' + evt.selectedItem.contactLastName);\r\n$scope.postalCode.setHtml(evt.selectedItem.postalCode);\r\n$scope.address.setHtml(evt.selectedItem.address);\r\n$scope.street.setHtml(evt.selectedItem.street);\r\n$scope.city.setHtml(evt.selectedItem.city);\r\n$scope.region.setHtml(evt.selectedItem.region);\r\n$scope.country.setHtml(evt.selectedItem.country);\r\n\r\n\r\n\r\n$scope.customerName.setHtml(evt.selectedItem.firstName + ' ' + evt.selectedItem.lastName);\r\n$scope.customerEmail.setHtml(evt.selectedItem.email);\r\n$scope.customerPhone.setHtml(evt.selectedItem.phone);\r\nif(evt.selectedItem.exemptTax)\r\n\t$scope.customerTax.setHtml('Customer is taxable');\r\nelse\r\n\t$scope.customerTax.setHtml('Customer is exempt of tax');","name":"lookup"}],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:lookup"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"card_1","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row_8","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"subtitle","class":"card-subtitle","tag":"p","text":"Customer"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"customerName","exposeAs":"customerName","text":"","href":"javascript:void(0);"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"customerEmail","exposeAs":"customerEmail","text":"","href":"javascript:void(0);"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_2","class":"row "},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"customerPhone","exposeAs":"customerPhone","tag":"p","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_3","class":"row mt-2"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"customerTax","exposeAs":"customerTax","tag":"p","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"card_2","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row_8","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"subtitle","class":"card-subtitle","tag":"p","text":"Shipping address"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"editShipping","text":"Edit","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.shippingaddresspopup.set('open','true');\r\n$scope.shippingaddresspopup.set('title','Shipping Address');","name":"editShipping"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"companyName","class":"text-muted","exposeAs":"companyName","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"firstName","class":"text-muted","exposeAs":"firstName","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_2","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"postalCode","class":"text-muted","exposeAs":"postalCode","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_3","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"address","class":"text-muted","exposeAs":"address","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_4","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"street","class":"text-muted","exposeAs":"street","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_5","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"city","class":"text-muted","exposeAs":"city","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_6","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"region","class":"text-muted","exposeAs":"region","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_7","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"country","class":"text-muted","exposeAs":"country","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_8_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"},{"parameters":{"name":"card_3","class":"card","tag":"div","text":""},"children":[{"parameters":{"name":"card-body","class":"card-body","tag":"div","text":""},"children":[{"parameters":{"name":"Row_8","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"subtitle","class":"card-subtitle","tag":"p","text":"Billing Address"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[{"parameters":{"name":"editBilling","text":"Edit","href":"javascript:void(0);"},"children":[],"events":[{"type":"click","source":"$scope.billingaddresspopup.set('open','true');\r\n$scope.billingaddresspopup.set('title','Billing Address');","name":"editBilling"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:a"}],"events":[],"macros":[],"styles":{"text-align":"right"},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"companyName","class":"text-muted","exposeAs":"bcompanyName","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"firstName","class":"text-muted","exposeAs":"bfirstName","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_2","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"postalCode","class":"text-muted","exposeAs":"bpostalCode","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_3","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"address","class":"text-muted","exposeAs":"baddress","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_4","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"street","class":"text-muted","exposeAs":"bstreet","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_5","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"city","class":"text-muted","exposeAs":"bcity","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_6","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"region","class":"text-muted","exposeAs":"bregion","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_7","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[{"parameters":{"name":"country","class":"text-muted","exposeAs":"bcountry","tag":"span","text":""},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:p"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"},{"parameters":{"name":"Row_8_1","class":"row"},"children":[{"parameters":{"name":"Col","class":"col"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"},{"parameters":{"name":"Col_1","class":"col"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"html:div"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:column"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:row"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:container"},{"parameters":{"name":"Icons","source":"/open-iconic/font/css/open-iconic-bootstrap.css","crossorigin":"anonymous","media":"all"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:open-iconic"},{"parameters":{"artifact":"com.archnet:QuickCreateCustomer:0.0.1","name":"createcustomer","exposeAs":"createcustomer","open":"false"},"children":[],"events":[{"type":"applyparameter","source":"if(evt.name === 'open'){\r\n    if(evt.value === 'true'){\r\n        $scope.modal.open();\r\n    }else{\r\n        $scope.modal.close();\r\n    }\r\n}","name":"createcustomer"},{"type":"saved","source":"$scope.createcustomer.set('open', 'false');\r\n\r\n$scope.companyName.setHtml(evt.data.company);\r\n$scope.firstName.setHtml(evt.data.contactFirstName + ' ' + evt.data.contactLastName);\r\n$scope.postalCode.setHtml(evt.data.postalCode);\r\n$scope.address.setHtml(evt.data.address);\r\n$scope.street.setHtml(evt.data.street);\r\n$scope.city.setHtml(evt.data.city);\r\n$scope.region.setHtml(evt.data.region);\r\n$scope.country.setHtml(evt.data.country);\r\n\r\n\r\n\r\n$scope.customerName.setHtml(evt.data.firstName + ' ' + evt.data.lastName);\r\n$scope.customerEmail.setHtml(evt.data.email);\r\n$scope.customerPhone.setHtml(evt.data.phone);\r\nif(evt.data.exemptTax)\r\n\t$scope.customerTax.setHtml('Customer is taxable');\r\nelse\r\n\t$scope.customerTax.setHtml('Customer is exempt of tax');","name":"createcustomer"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:cmp"},{"parameters":{"name":"localhost"},"children":[{"parameters":{"name":"beelut"},"children":[{"parameters":{"name":"customers","exposeAs":"customers"},"children":[],"events":[{"type":"queryDocument","source":"$scope.customerLookup.setSuggestions(evt.data);","name":"customers"}],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:collection"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:database"}],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"mongo:server"},{"parameters":{"artifact":"com.archnet:searchProduct:0.0.1","name":"searchproductspopup","exposeAs":"searchproductspopup"},"children":[],"events":[{"type":"applyparameter","source":"if(event.name === 'open'){\r\n    if(event.value === 'true'){\r\n        $scope.modal.open();\r\n    }else{\r\n        $scope.modal.close();\r\n    }\r\n}","name":"searchproductspopup"},{"type":"selected","source":"adjusteProductLines($scope,evt.data);\r\n","name":"searchproductspopup"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:cmp"},{"parameters":{"name":"Number Input","class":"form-control","type":"number"},"children":[],"events":[],"macros":[],"styles":{},"dependencies":[],"impl":"bootstrap:input-numeric"},{"parameters":{"artifact":"com.archnet:shippingAddress:0.0.1","name":"shippingaddresspopup","exposeAs":"shippingaddresspopup","open":"false","title":"Shipping Address"},"children":[],"events":[{"type":"applyparameter","source":"if(evt.name === 'title'){\r\n    $scope.modal.setTitle(evt.value);\r\n}else if(evt.name === 'open'){\r\n    if(evt.value === 'true'){\r\n        $scope.modal.open();\r\n    }else{\r\n        $scope.modal.close();\r\n    }\r\n}","name":"shippingaddresspopup"},{"type":"saved","source":"saveShipping($scope,evt);","name":"shippingaddresspopup"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:cmp"},{"parameters":{"artifact":"com.archnet:shippingAddress:0.0.1","name":"billingaddresspopup","exposeAs":"billingaddresspopup"},"children":[],"events":[{"type":"applyparameter","source":"if(evt.name === 'title'){\r\n    $scope.modal.setTitle(evt.value);\r\n}else if(evt.name === 'open'){\r\n    if(evt.value === 'true'){\r\n        $scope.modal.open();\r\n    }else{\r\n        $scope.modal.close();\r\n    }\r\n}","name":"billingaddresspopup"},{"type":"saved","source":"$scope.bcompanyName.setHtml(evt.data.company);\r\n$scope.bfirstName.setHtml(evt.data.contactFirstName + ' ' + evt.data.contactLastName);\r\n$scope.bpostalCode.setHtml(evt.data.postalCode);\r\n$scope.baddress.setHtml(evt.data.address);\r\n$scope.bstreet.setHtml(evt.data.street);\r\n$scope.bcity.setHtml(evt.data.city);\r\n$scope.bregion.setHtml(evt.data.region);\r\n$scope.bcountry.setHtml(evt.data.country);","name":"billingaddresspopup"}],"macros":[],"styles":{},"dependencies":[],"impl":"html:cmp"}],"events":[],"macros":[],"styles":{},"data":{},"dependencies":[],"impl":"lgt:app"}